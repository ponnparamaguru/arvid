<!DOCTYPE html>
<html>
    <head>
        <title>Video</title>
        <meta name="apple-mobile-web-app-capable" content="yes"/>
        <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
        <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>

        <script>
            AFRAME.registerComponent('hide-in-ar-mode', {
                init: function () {
                    this.el.sceneEl.addEventListener('enter-vr', (ev) => {
                        this.wasVisible = this.el.getAttribute('visible');
                            if (this.el.sceneEl.is('ar-mode')) {
                        this.el.setAttribute('visible', false);
                        }
                    });
                    this.el.sceneEl.addEventListener('exit-vr', (ev) => {
                        if (this.wasVisible) this.el.setAttribute('visible', true);
                    });
                }
            });

        </script>
    </head>
    <body style='margin : 0px; overflow: hidden;'>
        <a-scene embedded arjs>
            <a-sky color="lightblue" hide-in-ar-mode></a-sky>
            <a-assets>
               <video id="vid" src="/final.webm" autoplay loop ="true" playsinline></video>
                <a-asset-item id="location" src="src/map pointer.obj"></a-asset-item>
            </a-assets>
            <a-marker>
                <a-video src="#vid" height="0.5" width="1" position="0 1 0"></a-video>
                <a-obj-model src="#location" position="2 0 -3" scale="0.2 0.2 0.2"></a-obj-model>
            </a-marker>
        </a-scene>
    </body>
</html>
